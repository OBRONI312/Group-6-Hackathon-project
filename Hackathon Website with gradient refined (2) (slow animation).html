<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Silent Conditions & Smart Technology</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Theme variables */
        :root{
            --bg: #f4f7fb; /* soft light page background */
            --text: #06293d; /* dark blue text */
            --header-bg: #073b4c; /* deep teal-blue (fallback) */
            --header-sub: #cbe7f0;
            --nav-bg: #0f62fe; /* vivid blue accent (fallback) */
            --accent: #0f62fe;
            /* gradients */
            --gradient-header: linear-gradient(135deg,#6dd5fa 0%,#8b6cff 50%,#073b4c 100%);
            --gradient-nav: linear-gradient(90deg,#7b61ff 0%,#0f62fe 100%);
            --gradient-footer: linear-gradient(180deg,#073b4c 0%,#041726 100%);
            --bg-gradient: linear-gradient(180deg,#f8fbff 0%, #e9f2ff 100%);
            --card-grad-start: #ffffff;
            --card-grad-end: #f6fbff;
            --accent-gradient: linear-gradient(90deg,#7b61ff 0%,#0f62fe 100%);
            --muted-gradient: linear-gradient(90deg,#46688f 0%,#6b9ac3 100%);
            --gradient-toggle: linear-gradient(90deg,#8b61ff 0%,#0f62fe 100%);
            --card-bg: #ffffff;
            --muted: #14485a;
            --highlight-bg: #fff7d9; /* pale yellow highlight */
            --highlight-border: #f59e0b;
            --border: #e6eef6;
            --shadow: rgba(6,41,61,0.06);
            --footer-bg: #073b4c;
            --ribbon-border: rgba(139,97,255,0.48);
            --ribbon-glow: rgba(139,97,255,0.22);
        }
        .dark-theme{
            --bg: #071428;
            --text: #e6f0f6;
            --header-bg: #052032;
            --header-sub: #9fcbe0;
            --nav-bg: #0b5ed7;
            --accent: #7fb3ff;
            --card-bg: #0b1620;
            --muted: #9fbfda;
            --highlight-bg: #14202a;
            --highlight-border: #f5a623;
            --border: rgba(255,255,255,0.06);
            --shadow: rgba(0,0,0,0.6);
            --footer-bg: #052032;
            --gradient-header: linear-gradient(135deg,#052032 0%,#071428 100%);
            --gradient-nav: linear-gradient(90deg,#073b4c 0%,#0b5ed7 100%);
            --gradient-footer: linear-gradient(180deg,#071428 0%,#041726 100%);
            --bg-gradient: linear-gradient(180deg,#071428 0%, #0b2233 100%);
            --card-grad-start: #071428;
            --card-grad-end: #091826;
            --accent-gradient: linear-gradient(90deg,#0b5ed7 0%,#7fb3ff 100%);
            --muted-gradient: linear-gradient(90deg,#678fa6 0%,#9fbfda 100%);
            --gradient-toggle: linear-gradient(90deg,#073b4c 0%,#0b5ed7 100%);
            --ribbon-border: rgba(127,179,255,0.48);
            --ribbon-glow: rgba(127,179,255,0.26);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            line-height: 1.6;
            background: var(--bg-gradient);
            color: var(--text);
        }
        header {
            background: var(--gradient-header);
            color: #ffffff;
            padding: 1.5rem;
            text-align: center;
        }
        header h1 {
            margin: 0 0 0.4rem 0;
            font-size: 1.8rem;
            color: #ffffff;
        }
        header p {
            margin: 0;
            font-size: 0.95rem;
            color: var(--header-sub);
        }
        nav {
            background: var(--gradient-nav);
            color: #ffffff;
            padding: 0.7rem 1rem;
            text-align: center;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            position: relative;
        }
        nav a {
            color: #ffffff;
            text-decoration: none;
            margin: 0 0.6rem;
            font-weight: 600;
            font-size: 0.95rem;
            border-radius: 8px;
            box-sizing: border-box;
            box-shadow: 0 0 0 2px var(--ribbon-border);
            transition: transform .18s ease, box-shadow .35s ease, background-color .18s ease, opacity .18s ease;
        }
        nav a:hover {
            text-decoration: underline;
            opacity: 0.95;
        }

        /* top ribbon hover + link hover animations */
        nav {
            transition: transform .28s cubic-bezier(.2,.8,.2,1), box-shadow .32s ease;
        }
        nav:hover, nav:focus-within {
            transform: translateY(-4px);
            box-shadow: 0 14px 40px rgba(4,18,34,0.12);
        }
        nav a {
            padding: 0.36rem 0.6rem;
            border-radius: 8px;
            transition: transform .18s ease, box-shadow .18s ease, background-color .18s ease, opacity .18s ease;
        }
        nav a:hover, nav a:focus {
            transform: translateY(-3px);
            box-shadow: 0 0 0 2px var(--ribbon-border), 0 10px 26px rgba(4,18,34,0.12);
            background: rgba(255,255,255,0.06);
            opacity: 1;
            text-decoration: none;
        }
        nav a:focus { outline: 2px solid rgba(255,255,255,0.12); outline-offset: 3px; }

        /* mobile hamburger and menu (non-fixed) */
        .hamburger{
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 36px;
            height: 32px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            cursor: pointer;
            z-index: 1002;
        }
        .hamburger .lines{ display:block; width:20px; height:2px; background:#fff; position:relative }
        .hamburger .lines::before, .hamburger .lines::after{ content:''; position:absolute; left:0; width:20px; height:2px; background:#fff; transition: transform .28s ease, opacity .28s ease }
        .hamburger .lines::before{ top:-6px }
        .hamburger .lines::after{ top:6px }
        .hamburger.open .lines{ background: transparent }
        .hamburger.open .lines::before{ transform: translateY(6px) rotate(45deg) }
        .hamburger.open .lines::after{ transform: translateY(-6px) rotate(-45deg) }

        .mobile-menu{
            position: absolute;
            left: 12px;
            top: calc(100% + 10px);
            min-width: 200px;
            background: linear-gradient(180deg,var(--card-grad-start),var(--card-grad-end));
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 0.6rem;
            box-shadow: 0 12px 30px rgba(6,41,61,0.12);
            opacity: 0;
            transform: translateY(-6px);
            pointer-events: none;
            transition: opacity .28s ease, transform .28s ease;
            z-index: 1001;
        }
        .mobile-menu.open{ opacity: 1; transform: translateY(0); pointer-events: auto }
        .mobile-menu a{ display:block; color:var(--text); padding:0.5rem; border-radius:6px; text-decoration:none; font-weight:600 }
        .mobile-menu a:hover{ background: rgba(15,98,254,0.06); }
        .mobile-menu .theme-toggle{ width:100%; margin-top:0.5rem }

        @media (min-width:901px){ .hamburger, .mobile-menu{ display:none } }

        /* theme toggle */
        .theme-toggle{
            position: relative;
            overflow: hidden;
            background-image: var(--gradient-toggle);
            color: #fff;
            padding: 0.35rem 0.6rem;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: transform .18s ease, box-shadow .18s ease, background-color .2s ease, opacity .3s ease;
            border: none;
        }
        .theme-toggle .label{ display:inline-block; transition: opacity .24s ease; }

        /* make accent headings use gradient text */
        h3, .card h3 {
            background-image: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* muted text can have a subtle gradient on larger screens */
        .muted-gradient {
            background-image: var(--muted-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .theme-toggle:focus{
            outline: 3px solid rgba(255,255,255,0.18);
            outline-offset: 2px;
        }
        .theme-toggle::after{
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 180%;
            height: 180%;
            background: rgba(255,255,255,0.12);
            transform: translate(-50%,-50%) scale(0);
            border-radius: 50%;
            opacity: 0;
            transition: transform .35s ease, opacity .25s ease;
            pointer-events: none;
        }
        .theme-toggle.pulse{
            transform: scale(0.98);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        .theme-toggle.pulse::after{
            transform: translate(-50%,-50%) scale(1);
            opacity: 1;
        }

        /* smooth theme transitions (longer, eased) */
        body, header, nav, main, section, .card, footer, .highlight {
            transition: background-color 1s ease-in-out, color .9s ease-in-out, border-color .9s ease-in-out, box-shadow .9s ease-in-out, transform .9s ease-in-out;
        }

        /* background cross-fade using two layered gradients for subtle theme switch */
        body::before, body::after {
            content: '';
            position: fixed;
            inset: 0;
            z-index: -1;
            pointer-events: none;
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            transition: opacity 1.1s ease-in-out;
            opacity: 0;
        }
        /* light background (visible by default) */
        body::before{
            background: var(--bg-gradient);
            opacity: 1;
        }
        /* dark background (fades in when .dark-theme is present on root) */
        body::after{
            background: linear-gradient(180deg,#071428 0%, #0b2233 100%);
            opacity: 0;
        }
        .dark-theme body::before{ opacity: 0; }
        .dark-theme body::after { opacity: 1; }

        /* reveal-on-load helpers */
        .reveal {
            opacity: 0;
            transform: translateY(12px);
            will-change: transform, opacity;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
            transition: transform .48s cubic-bezier(.2,.8,.2,1), opacity .36s ease;
        }

        /* subtle card hover */
        .card {
            transition: transform .22s ease, box-shadow .22s ease;
        }
        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 14px 30px rgba(6,41,61,0.10);
        }

        /* apply similar lift + shadow to sections (text boxes) */
        section:hover, section:focus-within {
            transform: translateY(-6px);
            box-shadow: 0 20px 50px rgba(4,18,34,0.10);
            border-color: rgba(4,18,34,0.06);
            z-index: 2;
        }
        /* keyboard focus visible state for accessibility */
        section:focus-within { outline: 2px solid rgba(11,92,215,0.12); outline-offset: 6px; }

        /* animated highlight when jumping to a section */
        .section-highlight {
            animation: sectionFlash 900ms ease-in-out;
        }
        @keyframes sectionFlash {
            0% { box-shadow: 0 0 0 8px rgba(245,159,11,0.18); }
            60% { box-shadow: 0 0 0 3px rgba(245,159,11,0.12); }
            100% { box-shadow: none; }
        }

        @keyframes ribbonPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(0,0,0,0);
                transform: translateY(0) scale(1);
            }
            40% {
                box-shadow: 0 8px 26px 3px var(--ribbon-glow);
                transform: translateY(-2px) scale(1.02);
            }
            100% {
                box-shadow: 0 0 0 2px var(--ribbon-border);
                transform: translateY(0) scale(1);
            }
        }

        /* when nav gets the animation class, pulse the ribbon buttons */
        nav.ribbon-anim a {
            animation: ribbonPulse 720ms cubic-bezier(.2,.9,.2,1);
        }

        main {
            max-width: 1000px;
            margin: 1.5rem auto;
            padding: 0 1rem 2rem;
        }
        section {
            /* subtle gradient for text-box backgrounds */
            background: linear-gradient(180deg, var(--card-grad-start), var(--card-grad-end));
            margin-bottom: 1.5rem;
            padding: 1.2rem 1.4rem;
            border-radius: 8px;
            box-shadow: 0 6px 18px var(--shadow);
            border: 1px solid var(--border);
            transition: transform .28s cubic-bezier(.2,.8,.2,1), box-shadow .32s ease, border-color .3s ease;
            will-change: transform, box-shadow;
            position: relative;
        }
        h2 {
            margin-top: 0;
            color: var(--text);
        }
        h3 {
            margin-bottom: 0.3rem;
        }
        ul {
            padding-left: 1.1rem;
            color: var(--muted);
        }
        li {
            margin-bottom: 0.35rem;
            color: var(--muted);
        }
        .highlight {
            background: var(--highlight-bg);
            border-left: 4px solid var(--highlight-border);
            padding: 0.6rem 0.9rem;
            margin: 0.6rem 0;
            font-size: 0.95rem;
            color: var(--text);
        }
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1rem;
        }
        .card {
            /* keep card background solid (text box) */
            background: var(--card-bg);
            border-radius: 6px;
            border: 1px solid var(--border);
            padding: 0.9rem 1rem;
            font-size: 0.95rem;
            box-shadow: 0 3px 8px rgba(6, 41, 61, 0.04);
        }
        .card h3 {
            margin-top: 0;
            color: var(--accent);
        }
        footer {
            text-align: center;
            font-size: 0.8rem;
            padding: 1rem;
            background: var(--gradient-footer);
            color: #ffffff;
        }
        /* removed card gradient so text boxes remain solid */
        .disclaimer {
            font-size: 0.8rem;
            color: var(--muted);
        }
        @media (max-width: 600px) {
            header h1 {
                font-size: 1.4rem;
            }
            nav a {
                display: inline-block;
                margin: 0.2rem 0.4rem;
            }
        }
        /* (secondary nav removed) */
        /* Back-to-top floating button */
        .back-to-top{
            position: fixed;
            right: 20px;
            bottom: 28px;
            width: 46px;
            height: 46px;
            border-radius: 50%;
            border: none;
            background-image: var(--gradient-toggle);
            color: #fff;
            display: inline-flex;
            align-items: center;
            justify-content: center;
                font-size: 20px;
            cursor: pointer;
            box-shadow: 0 12px 30px rgba(4,18,34,0.12);
            opacity: 0;
            transform: translateY(8px) scale(0.98);
            transition: opacity .32s ease, transform .36s cubic-bezier(.2,.8,.2,1);
            z-index: 9999;
        }
        .back-to-top.visible{ opacity: 1; transform: translateY(0) scale(1); }
        .back-to-top:focus{ outline: 3px solid rgba(255,255,255,0.12); outline-offset: 3px }
    </style>
</head>
<body>

<!-- Mobile hamburger menu (replaces fixed side panel) -->
<!-- markup is inside the top nav for positioning on small screens -->

<header>
    <h1>Silent Health Conditions & Smart Technology</h1>
    <p>How technology may spot early problems like kidney disease or vitamin deficiencies without traditional tests or constant monitoring.</p>
</header>

<nav>
    <button id="nav-hamburger" class="hamburger" aria-label="Open menu" aria-expanded="false"><span class="lines"></span></button>
    <a href="#silent">Why Many Conditions Are “Silent”</a>
    <a href="#kidney">Early Kidney Disease</a>
    <a href="#vitamin">Vitamin Deficiencies</a>
    <a href="#beyond">Beyond These Examples</a>
    <a href="#limits">Limits & Ethics</a>
    <button id="theme-toggle" class="theme-toggle" aria-pressed="false" aria-label="Toggle dark mode"><span class="label">Dark mode</span></button>
    <div id="mobile-menu" class="mobile-menu" aria-hidden="true">
        <a href="#silent">Why Many Conditions Are “Silent”</a>
        <a href="#kidney">Early Kidney Disease</a>
        <a href="#vitamin">Vitamin Deficiencies</a>
        <a href="#beyond">Beyond These Examples</a>
        <a href="#limits">Limits & Ethics</a>
        <a href="resources.html">Resources</a>
        <a href="about.html">About</a>
        <a href="team.html">Team</a>
        <a href="contact.html">Contact</a>
        <button id="mobile-theme-toggle" class="theme-toggle" aria-label="Toggle dark mode"><span class="label">Theme</span></button>
    </div>
</nav>
 
<main>
    <section id="silent" class="reveal">
        <h2>Why Many Conditions Show No Early Symptoms</h2>
        <p>
            Many chronic conditions damage the body slowly, so people often feel normal until the disease is already advanced.
        </p>
        <div class="highlight">
            Everyday life rarely stresses the body enough to reveal subtle damage, so routine tasks may feel normal even when organs like the kidneys or nerves are already under strain.
        </div>
        <ul>
            <li>Organs such as kidneys and liver have large “reserve” capacity, so early damage does not cause obvious symptoms.</li>
            <li>Vitamin deficiencies may start with mild fatigue or mood changes that are easy to ignore or blame on lifestyle.</li>
            <li>Traditional testing (blood and urine tests, scans) is usually done only after people feel unwell or during rare check‑ups.</li>
        </ul>
    </section>

    <section id="kidney">
        <h2>Technology for Early Kidney Disease</h2>
        <p>
            Early‑stage kidney disease can be detected using newer, more accessible tools that do not always require standard lab blood tests.
        </p>
        <div class="cards">
            <div class="card reveal">
                <h3>Non‑invasive Urine Biosensors</h3>
                <p>
                    Researchers have created urine biosensors that detect markers like SDMA, which can signal kidney damage earlier than traditional creatinine tests and work with simple, portable devices.
                </p>
                <ul>
                    <li>Use a urine drop instead of a blood sample.</li>
                    <li>Can be built into low‑cost, point‑of‑care devices for clinics or even home use.</li>
                    <li>Could allow regular screening in schools, workplaces, or rural health camps.</li>
                </ul>
            </div>
            <div class="card reveal">
                <h3>Micro‑chip & Lab‑on‑a‑Chip Tools</h3>
                <p>
                    New micro‑chip platforms can estimate kidney function from tiny fluid samples on a portable cartridge, making testing faster and more accessible outside large laboratories.
                </p>
                <ul>
                    <li>Possible use in health camps, ambulances, or small clinics.</li>
                    <li>Rapid results could help flag high‑risk people for full evaluation.</li>
                </ul>
            </div>
            <div class="card reveal">
                <h3>AI Risk Scoring from Routine Data</h3>
                <p>
                    Some systems use machine‑learning models on existing clinical data (like age, blood pressure, and basic lab results) to predict which patients are at high risk of kidney failure even before they feel unwell.
                </p>
                <ul>
                    <li>Helps doctors focus attention on patients who most need follow‑up.</li>
                    <li>Can be integrated into hospital or clinic software as a background safety net.</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="vitamin" class="reveal">
        <h2>Technology for Vitamin Deficiencies</h2>
        <p>
            Some projects use cameras and AI to spot visible clues of vitamin deficiency from normal photos instead of blood tests.
        </p>
        <div class="cards">
            <div class="card reveal">
                <h3>Image‑Based Screening Apps</h3>
                <p>
                    Research groups have built mobile and web applications that analyze photos of eyes, lips, tongue, and nails to estimate possible vitamin deficiencies using image processing and machine‑learning models.
                </p>
                <ul>
                    <li>Users upload photos taken with an ordinary phone camera.</li>
                    <li>Algorithms look for patterns such as color changes, texture, or spots linked with specific deficiencies.</li>
                    <li>The app suggests likely deficiencies and basic dietary advice, then encourages proper medical testing.</li>
                </ul>
            </div>
            <div class="card reveal">
                <h3>Benefits Over Traditional Testing</h3>
                <p>
                    These tools are non‑invasive, low‑cost, and easy to scale to large populations, making them useful for early community‑level screening.
                </p>
                <ul>
                    <li>No needles or laboratory visit needed for initial screening.</li>
                    <li>Can reach people in remote or low‑resource settings through smartphones.</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="beyond" class="reveal">
        <h2>Beyond Kidney Disease and Vitamins</h2>
        <p>
            Similar ideas are being used for other “silent” disorders, where subtle body signals are captured and analyzed by technology.
        </p>
        <div class="cards">
            <div class="card reveal">
                <h3>Wearables for Early Disease Detection</h3>
                <p>
                    Smartwatches and wearable patches contain sensors for heart rate, movement, temperature, and oxygen levels, which can feed machine‑learning models that detect abnormal patterns before a person feels ill.
                </p>
                <ul>
                    <li>Changes in sleep, movement, or heart rhythm can hint at neurological or cardiac problems early.</li>
                    <li>Alerts can prompt users to seek medical evaluation before major events such as stroke or heart failure.</li>
                </ul>
            </div>
            <div class="card reveal">
                <h3>Breath, Voice, and Other Signals</h3>
                <p>
                    Experimental sensors can analyze volatile molecules in breath or small changes in voice and movement to detect early neurological or metabolic disease before classic symptoms appear.
                </p>
                <ul>
                    <li>Breath sensors may help screen for early neurological or metabolic disorders.</li>
                    <li>Voice and motion analysis apps can run on a phone in the background during normal use.</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="limits" class="reveal">
        <h2>Limits, Risks, and Ethical Issues</h2>
        <p>
            Although these tools reduce dependence on traditional lab tests, they are not perfect and must be used carefully.
        </p>
        <div class="highlight">
            These technologies are best seen as early‑warning and triage tools that guide people toward proper clinical testing, not as replacements for doctors or definitive diagnostic laboratory tests.
        </div>
        <ul>
            <li>False alarms can cause anxiety, while missed signals may create false reassurance.</li>
            <li>AI models may work poorly in groups that were under‑represented in the training data, leading to bias.</li>
            <li>Continuous collection of health signals creates privacy and data‑security concerns that require strict safeguards.</li>
        </ul>
        <p class="disclaimer">
            This website is for educational purposes only and does not provide medical advice, diagnosis, or treatment. For any health concerns, consult a qualified healthcare professional.
        </p>
    </section>
</main>

<footer>
    &copy; Hackathon | Group 6
</footer>

<script>
    (function(){
        const KEY = 'theme';
        const btn = document.getElementById('theme-toggle');
        const mobileThemeBtn = document.getElementById('mobile-theme-toggle');
        const label = btn.querySelector('.label');
        const apply = (t) => {
            const setText = (txt) => {
                if(label){
                    // fade label out, change text, fade in
                    label.style.opacity = '0';
                    setTimeout(() => {
                        label.textContent = txt;
                        label.style.opacity = '1';
                    }, 180);
                } else {
                    btn.textContent = txt;
                }
            };

            if(t === 'dark') {
                document.documentElement.classList.add('dark-theme');
                setText('Light mode');
                btn.setAttribute('aria-pressed','true');
            } else {
                document.documentElement.classList.remove('dark-theme');
                setText('Dark mode');
                btn.setAttribute('aria-pressed','false');
            }
        };

        // initial: saved preference or system preference
        const saved = localStorage.getItem(KEY);
        if(saved){
            apply(saved);
        } else {
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            apply(prefersDark ? 'dark' : 'light');
        }

        btn.addEventListener('click', () => {
            const isDark = document.documentElement.classList.toggle('dark-theme');
            const mode = isDark ? 'dark' : 'light';
            // animate label and apply theme
            apply(mode);
            localStorage.setItem(KEY, mode);

            // click animation: brief pulse
            btn.classList.add('pulse');
            setTimeout(() => btn.classList.remove('pulse'), 320);

            // animate the top ribbon outline with a dynamic pulse
            const navEl = document.querySelector('nav');
            if(navEl){
                navEl.classList.add('ribbon-anim');
                setTimeout(() => navEl.classList.remove('ribbon-anim'), 760);
            }
        });

        
        if(mobileThemeBtn){
            mobileThemeBtn.addEventListener('click', () => btn.click());
        }

        // allow keyboard activation (Enter/Space) when focused
        btn.addEventListener('keydown', (e) => {
            if(e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                btn.click();
            }
        });
    })();
</script>

<script>
    // reveal runner: progressively show elements with .reveal
    (function(){
        const reveals = Array.from(document.querySelectorAll('.reveal'));
        if(!reveals.length) return;
        let i = 0;
        const step = () => {
            if(i >= reveals.length) return;
            const el = reveals[i++];
            requestAnimationFrame(() => el.classList.add('visible'));
            setTimeout(step, 80);
        };
        // run after a short delay so CSS is ready
        window.addEventListener('load', () => setTimeout(step, 160));
    })();
</script>

<!-- Back-to-top button -->
<button id="back-to-top" class="back-to-top" aria-label="Back to top">↑</button>

<script>
    (function(){
        const btn = document.getElementById('back-to-top');
        if(!btn) return;
        const showAt = 200; // px scrolled before showing
        const onScroll = () => {
            if(window.scrollY > showAt) btn.classList.add('visible'); else btn.classList.remove('visible');
        };
        window.addEventListener('scroll', onScroll, {passive:true});
        // initial check
        onScroll();
        btn.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        // keyboard accessibility: Enter/Space
        btn.addEventListener('keydown', (e) => {
            if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); }
        });
    })();
</script>

<script>
    // Smooth-scroll anchors with a subtle highlight on the target section
    (function(){
        const links = Array.from(document.querySelectorAll('nav a[href^="#"], .mobile-menu a[href^="#"]'));
        if(!links.length) return;
        links.forEach(a => {
            a.addEventListener('click', (e) => {
                const href = a.getAttribute('href');
                if(!href || href === '#') return;
                const target = document.querySelector(href);
                if(!target) return;
                // prevent default jump; use smooth scroll
                e.preventDefault();
                // compute y to scroll (respecting default behavior)
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                // add temporary highlight
                target.classList.remove('section-highlight');
                // force reflow
                void target.offsetWidth;
                target.classList.add('section-highlight');
                // update location hash after scroll to preserve history
                // delay to let smooth scroll begin
                setTimeout(() => history.replaceState(null, '', href), 600);
            });
        });
    })();
</script>

<script>
    // mobile hamburger toggle
    (function(){
        const hamburger = document.getElementById('nav-hamburger');
        const mobileMenu = document.getElementById('mobile-menu');
        if(!hamburger || !mobileMenu) return;
        hamburger.addEventListener('click', () => {
            const open = hamburger.classList.toggle('open');
            mobileMenu.classList.toggle('open', open);
            hamburger.setAttribute('aria-expanded', open ? 'true' : 'false');
            mobileMenu.setAttribute('aria-hidden', open ? 'false' : 'true');
        });
        // close when clicking a mobile link
        mobileMenu.addEventListener('click', (e) => {
            if(e.target && e.target.tagName === 'A'){
                hamburger.classList.remove('open');
                mobileMenu.classList.remove('open');
                hamburger.setAttribute('aria-expanded','false');
                mobileMenu.setAttribute('aria-hidden','true');
            }
        });
        // close on Escape key
        document.addEventListener('keydown', (e) => {
            if(e.key === 'Escape' || e.key === 'Esc'){
                if(hamburger.classList.contains('open')){
                    hamburger.classList.remove('open');
                    mobileMenu.classList.remove('open');
                    hamburger.setAttribute('aria-expanded','false');
                    mobileMenu.setAttribute('aria-hidden','true');
                }
            }
        });
        // close when clicking outside the open menu
        document.addEventListener('click', (e) => {
            if(!hamburger.classList.contains('open')) return;
            const target = e.target;
            if(target === hamburger || hamburger.contains(target) || mobileMenu.contains(target)) return;
            // clicked outside
            hamburger.classList.remove('open');
            mobileMenu.classList.remove('open');
            hamburger.setAttribute('aria-expanded','false');
            mobileMenu.setAttribute('aria-hidden','true');
        });
    })();
</script>

</body>
</html>